[{"D:\\xampp\\htdocs\\todolistJs\\client\\src\\index.js":"1","D:\\xampp\\htdocs\\todolistJs\\client\\src\\App.js":"2","D:\\xampp\\htdocs\\todolistJs\\client\\src\\reportWebVitals.js":"3","D:\\xampp\\htdocs\\todolistJs\\client\\src\\Home.js":"4","D:\\xampp\\htdocs\\todolistJs\\client\\src\\Report.js":"5"},{"size":329,"mtime":1612145981183,"results":"6","hashOfConfig":"7"},{"size":696,"mtime":1612145981181,"results":"8","hashOfConfig":"7"},{"size":375,"mtime":1611719551842,"results":"9","hashOfConfig":"7"},{"size":4827,"mtime":1612158984517,"results":"10","hashOfConfig":"7"},{"size":9015,"mtime":1612159564259,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"11chnl1",{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"18","messages":"19","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"20","messages":"21","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"22"},"D:\\xampp\\htdocs\\todolistJs\\client\\src\\index.js",[],"D:\\xampp\\htdocs\\todolistJs\\client\\src\\App.js",[],"D:\\xampp\\htdocs\\todolistJs\\client\\src\\reportWebVitals.js",[],"D:\\xampp\\htdocs\\todolistJs\\client\\src\\Home.js",["23"],"D:\\xampp\\htdocs\\todolistJs\\client\\src\\Report.js",["24","25","26","27","28","29","30"],"import React, { useState, useEffect } from \"react\";\r\nimport './style.css';\r\nimport Axios from 'axios';\r\nimport { Button } from 'react-bootstrap';\r\nimport Modal from \"react-bootstrap/Modal\";\r\nimport moment from 'moment';\r\nfunction Report() {\r\n  const [show, setShow] = useState(false);\r\n  const [showTambah, setShowTambah] = useState(false);\r\n  const [showEdit, setShowEdit] = useState(false);\r\n  const [tanggal, setTanggal] = useState('');\r\n  const [id_laporan, setidLaporan] = useState('');\r\n  const [chat_masuk, setChatMasuk] = useState('');\r\n  const [chat_closing, setChatClosing] = useState('');\r\n  const [cm_edit, setCmEdit] = useState('');\r\n  const [cc_edit, setCcEdit] = useState('');\r\n  const [id_user, setIdUser] = useState('');\r\n  // const handleClose = () => setShow(false);\r\n  const handleClose2 = () => setShowTambah(false);\r\n  const handleClose1 = () => setShowEdit(false);\r\n  // let Open = () => setShow(true);\r\n  const ModalTambah = () => setShowTambah(true);\r\n  const ModalEdit = () => setShowEdit(true);\r\n  \r\n  const [reportList, setReportList] = useState([]);\r\n  const [reportById, setReportById] = useState([]);\r\n  const [userList, setUserList] = useState([]);\r\n\r\n  useEffect(() => {\r\n    Axios.get(\"http://localhost:3001/api/get/user\").then((response) => {\r\n      setUserList(response.data)\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    Axios.get(\"http://localhost:3001/api/get/laporanChat\").then((response) => {\r\n      setReportList(response.data)\r\n    });\r\n  }, []);\r\n\r\n  useEffect((id_laporan) => {\r\n    Axios.get(`http://localhost:3001/api/getbyid/laporanChat/${id_laporan}`).then((response) => {\r\n      setReportById(response.data)\r\n    });\r\n  }, []);\r\n\r\n  const getLaporanChatById = (id_laporan) => {\r\n    Axios.get(`http://localhost:3001/api/getbyid/laporanChat/${id_laporan}`).then((response) => {\r\n      setReportById(response.data)\r\n    });\r\n    ModalEdit();\r\n  };\r\n  \r\n  const addLaporanChat = () => {\r\n    Axios.post(\"http://localhost:3001/api/insert/laporanChat\", {\r\n      tanggal: tanggal,\r\n      chat_masuk: chat_masuk,\r\n      chat_closing:chat_closing,\r\n      id_user: id_user,\r\n    })\r\n    window.location.reload(false);\r\n  };\r\n\r\n  const deleteReport = (id_laporan) => {\r\n    Axios.delete(`http://localhost:3001/api/delete/laporanChat/${id_laporan}`);\r\n    window.location.reload(false);\r\n  };\r\n\r\n  const updateReport = (id, cm, cc) => {\r\n    if (cm_edit==\"\" && cc_edit==\"\") {\r\n      Axios.put(\"http://localhost:3001/api/update/laporanChat\", {\r\n        id_laporan: id,\r\n        chat_masuk: cm,\r\n        chat_closing: cc,\r\n      });\r\n      window.location.reload(false);\r\n    }\r\n    else if (cm_edit==\"\") {\r\n      Axios.put(\"http://localhost:3001/api/update/laporanChat\", {\r\n        id_laporan: id,\r\n        chat_masuk: cm,\r\n        chat_closing: cc_edit,\r\n      });\r\n      window.location.reload(false);\r\n    }\r\n    else if (cc_edit==\"\") {\r\n      Axios.put(\"http://localhost:3001/api/update/laporanChat\", {\r\n        id_laporan: id,\r\n        chat_masuk: cm_edit,\r\n        chat_closing: cc,\r\n      });\r\n      window.location.reload(false);\r\n    }\r\n    else {\r\n      Axios.put(\"http://localhost:3001/api/update/laporanChat\", {\r\n        id_laporan: id,\r\n        chat_masuk: cm_edit,\r\n        chat_closing: cc_edit,\r\n      });\r\n      window.location.reload(false);\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <div className=\"App\">\r\n      <br></br><br></br>\r\n      <h1 id=\"center\"> <b>Laporan Chat</b> </h1> \r\n      <div className=\"container\">\r\n      <div className=\"float-right m-4\">\r\n      <button className=\"btn btn-primary\" onClick={ModalTambah}>Tambah</button>\r\n      </div> \r\n    <table className=\"table table-bordered bg-white\">\r\n    <thead>\r\n      <tr>\r\n        <th><center>Nama</center></th>\r\n        <th><center>Tanggal</center></th>\r\n        <th><center>Chat Masuk</center></th>\r\n        <th><center>Chat Closing</center></th>\r\n        <th><center>Action</center></th>\r\n      </tr>\r\n    </thead>\r\n    <tfoot>\r\n    <tr>\r\n        <th><center>Nama</center></th>\r\n        <th><center>Tanggal</center></th>\r\n        <th><center>Chat Masuk</center></th>\r\n        <th><center>Chat Closing</center></th>\r\n        <th><center>Action</center></th>\r\n      </tr>\r\n    </tfoot>\r\n    <tbody>\r\n    {reportList.map((report) => {\r\n      return(\r\n        // {setChatMasuk(report.chat_masuk);}\r\n        // {setChatClosing(report.chat_closing);}\r\n        <tr>\r\n          <input className=\"form-control\" type=\"hidden\" name=\"id_laporan\" placeholder=\"\" onChange={(e) => {\r\n              setidLaporan(e.target.value) }} defaultValue={report.id_laporan}/>\r\n        <td><center>{report.nama}</center></td>\r\n        <td><center>{moment(report.tanggal).format(\"LL\")}</center></td>\r\n        <td><center>{report.chat_masuk}</center></td>\r\n        <td><center>{report.chat_closing}</center></td>\r\n        <td>\r\n          <center>\r\n          <button className=\"btn btn-primary\" onClick={() => {getLaporanChatById(report.id_laporan)}}>Update</button>\r\n          &nbsp; &nbsp;\r\n          <button className=\"btn btn-danger\" onClick={() => {deleteReport(report.id_laporan)}}>&nbsp;&nbsp; X &nbsp;&nbsp;</button>\r\n          </center>\r\n        </td>\r\n      </tr>\r\n      );\r\n       })}\r\n    </tbody>\r\n  </table>\r\n</div>   \r\n      <Modal show={showTambah} onHide={handleClose2}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Tambah</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n        <label>Nama</label>   \r\n        <select name=\"id_user\" className=\"form-control\" onChange={(e) => {setIdUser(e.target.value)}}>\r\n        <option selected disabled>--- Pilih User ---</option>\r\n        {userList.map((user) => {\r\n          return (\r\n            <option value={user.id_user} >{user.nama}</option>          \r\n            );\r\n        })} \r\n        </select>   \r\n\r\n            <div class=\"form-group\">\r\n              <label>Tanggal</label>\r\n            <input className=\"form-control\" type=\"date\" name=\"tanggal\" placeholder=\"Tanggal...\" onChange={(e) => {\r\n              setTanggal(e.target.value)\r\n            }} />\r\n            </div>\r\n              <div class=\"form-group\">\r\n                <label>Chat Masuk</label>\r\n            <input className=\"form-control\" type=\"number\" name=\"chat_masuk\" min=\"0\" placeholder=\"Chat Masuk...\" onChange={(e) => {\r\n              setChatMasuk(e.target.value)\r\n            }}/>\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label>Chat Closing</label>\r\n            <input className=\"form-control\" type=\"number\" name=\"chat_closing\" min=\"0\" placeholder=\"Chat Closing...\" onChange={(e) => {\r\n              setChatClosing(e.target.value)\r\n            }} />\r\n            </div>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleClose2}>\r\n            Close\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={addLaporanChat}>\r\n            Save Changes\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n\r\n      {reportById.map((rbi) => {\r\n        return(\r\n      <Modal show={showEdit} onHide={handleClose1}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Edit</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n        <label>Nama</label>   \r\n        <select name=\"id_user\" className=\"form-control\" onClick={(e) => {setIdUser(e.target.value)}} readOnly>\r\n            <option selected disabled>{rbi.nama}</option>\r\n        </select>   \r\n            <div class=\"form-group\">\r\n              <label>Tanggal</label>\r\n            {/* <input className=\"form-control\" type=\"date\" name=\"tanggal\" defaultValue={moment(rbi.tanggal).format(\"L\")} onChange={(e) => {\r\n              setTanggal(e.target.value)\r\n            }} /> */}\r\n            <input className=\"form-control\" type=\"text\" name=\"tanggal\" maxLength=\"10\" defaultValue={moment(rbi.tanggal).format(\"L\")} onChange={(e) => {\r\n              setTanggal(e.target.value)\r\n            }} readOnly />\r\n            </div>\r\n              <div class=\"form-group\">\r\n                <label>Chat Masuk</label>\r\n            <input className=\"form-control\" type=\"number\" name=\"chat_masuk\" defaultValue={rbi.chat_masuk} min=\"0\" placeholder=\"Chat Masuk...\" onChange={(e) => {\r\n              setCmEdit(e.target.value)\r\n            }}/>\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <label>Chat Closing</label>\r\n            <input className=\"form-control\" type=\"number\" name=\"chat_closing\" defaultValue={rbi.chat_closing} min=\"0\" placeholder=\"Chat Closing...\" onChange={(e) => {\r\n              setCcEdit(e.target.value)\r\n            }} />\r\n            </div> \r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleClose1}>\r\n            Close\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={() => {updateReport(rbi.id_laporan, rbi.chat_masuk, rbi.chat_closing)}}>\r\n            Save Changes\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n      );\r\n    })} \r\n    </div>\r\n  );\r\n}\r\nexport default Report;",{"ruleId":"31","severity":1,"message":"32","line":7,"column":18,"nodeType":"33","messageId":"34","endLine":7,"endColumn":27},{"ruleId":"31","severity":1,"message":"35","line":8,"column":10,"nodeType":"33","messageId":"34","endLine":8,"endColumn":14},{"ruleId":"31","severity":1,"message":"36","line":8,"column":16,"nodeType":"33","messageId":"34","endLine":8,"endColumn":23},{"ruleId":"31","severity":1,"message":"37","line":12,"column":10,"nodeType":"33","messageId":"34","endLine":12,"endColumn":20},{"ruleId":"38","severity":1,"message":"39","line":70,"column":16,"nodeType":"40","messageId":"41","endLine":70,"endColumn":18},{"ruleId":"38","severity":1,"message":"39","line":70,"column":31,"nodeType":"40","messageId":"41","endLine":70,"endColumn":33},{"ruleId":"38","severity":1,"message":"39","line":78,"column":21,"nodeType":"40","messageId":"41","endLine":78,"endColumn":23},{"ruleId":"38","severity":1,"message":"39","line":86,"column":21,"nodeType":"40","messageId":"41","endLine":86,"endColumn":23},"no-unused-vars","'setStatus' is assigned a value but never used.","Identifier","unusedVar","'show' is assigned a value but never used.","'setShow' is assigned a value but never used.","'id_laporan' is assigned a value but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected"]