{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _toConsumableArray from\"D:/xampp/htdocs/todolistJs/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"D:/xampp/htdocs/todolistJs/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import'./App.css';import Axios from'axios';function App(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),isi=_useState2[0],setIsi=_useState2[1];var _useState3=useState('belum'),_useState4=_slicedToArray(_useState3,2),status=_useState4[0],setStatus=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),nama=_useState6[0],setNama=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),todoList=_useState8[0],setTodoList=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),userList=_useState10[0],setUserList=_useState10[1];useEffect(function(){Axios.get(\"http://localhost:3001/api/get/user\").then(function(response){setUserList(response.data);});},[]);useEffect(function(){Axios.get(\"http://localhost:3001/api/get/todolist\").then(function(response){setTodoList(response.data);});},[]);var addTodo=function addTodo(id_user){Axios.post(\"http://localhost:3001/api/insert/todolist\",{isi:isi,status:status,id_user:id_user});setTodoList([].concat(_toConsumableArray(todoList),[{isi:isi,status:status,id_user:id_user}]));};var addUser=function addUser(){Axios.post(\"http://localhost:3001/api/insert/user\",{nama:nama});setUserList([].concat(_toConsumableArray(userList),[{nama:nama}]));};var deleteTodo=function deleteTodo(idTodo){Axios.delete(\"http://localhost:3001/api/delete/todolist/\".concat(idTodo));};var deleteUser=function deleteUser(id_user){Axios.delete(\"http://localhost:3001/api/delete/user/\".concat(id_user));};var updateTodo=function updateTodo(idTodo,status){Axios.put(\"http://localhost:3001/api/update/todolist\",{id:idTodo,status:status});};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h1\",{id:\"center\",children:\" TO DO LIST \"}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",id:\"set\",children:/*#__PURE__*/_jsx(\"ul\",{class:\"list-group list-group-flush\",children:/*#__PURE__*/_jsxs(\"li\",{class:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",name:\"nama\",placeholder:\"Tambah User...\",onChange:function onChange(e){setNama(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:addUser,children:\"New User\"})})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:userList.map(function(user){return/*#__PURE__*/_jsx(\"div\",{class:\"col-sm-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"ul\",{class:\"list-group list-group-flush\",children:[/*#__PURE__*/_jsx(\"li\",{class:\"list-group-item\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"col-6 col-md-4\"}),/*#__PURE__*/_jsx(\"div\",{class:\"col-6 col-md-4\",id:\"capital\",children:/*#__PURE__*/_jsx(\"center\",{children:/*#__PURE__*/_jsx(\"b\",{children:user.nama})})}),/*#__PURE__*/_jsx(\"div\",{class:\"col-6 col-md-4\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"col-sm\"}),/*#__PURE__*/_jsx(\"div\",{class:\"col-sm\"}),/*#__PURE__*/_jsx(\"div\",{class:\"col-sm\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:function onClick(){deleteUser(user.id_user);},children:\"x\"})})})]})})]})}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"id_user\",id:\"id_user\",value:user.id_user}),todoList.filter(function(todo){return todo.id_user===user.id_user;}).map(function(filterTodo){return/*#__PURE__*/_jsx(\"li\",{class:\"list-group-item\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"col-sm-2\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:function onClick(){deleteTodo(filterTodo.id);},children:\"x\"})})}),/*#__PURE__*/_jsx(\"div\",{class:\"col-sm-10\",children:filterTodo.status==='belum'?/*#__PURE__*/_jsx(\"a\",{href:\"/\",onClick:function onClick(){updateTodo(filterTodo.id,'sudah');},id:\"href\",children:filterTodo.isi}):/*#__PURE__*/_jsx(\"a\",{href:\"/\",onClick:function onClick(){updateTodo(filterTodo.id,'belum');},id:\"href\",children:/*#__PURE__*/_jsx(\"s\",{children:filterTodo.isi})})})]})});}),/*#__PURE__*/_jsx(\"li\",{class:\"list-group-item\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"col-sm-8\",children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",type:\"text\",name:\"isi\",placeholder:\"Tambah To Do...\",onChange:function onChange(e){setIsi(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{class:\"col-sm-2\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:function onClick(){addTodo(user.id_user);},children:\"Tambah\"})})})]})})]})})});})}),/*#__PURE__*/_jsx(\"br\",{})]});}export default App;","map":{"version":3,"sources":["D:/xampp/htdocs/todolistJs/client/src/App.js"],"names":["React","useState","useEffect","Axios","App","isi","setIsi","status","setStatus","nama","setNama","todoList","setTodoList","userList","setUserList","get","then","response","data","addTodo","id_user","post","addUser","deleteTodo","idTodo","delete","deleteUser","updateTodo","put","id","e","target","value","map","user","filter","todo","filterTodo"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport './App.css';\nimport Axios from 'axios';\n\nfunction App() {\n  const [isi, setIsi] = useState('');\n  const [status, setStatus] = useState('belum')\n  const [nama, setNama] = useState('');\n  \n  const [todoList, setTodoList] = useState([]);\n  const [userList, setUserList] = useState([]);\n\n  useEffect(() => {\n    Axios.get(\"http://localhost:3001/api/get/user\").then((response) => {\n      setUserList(response.data)\n    });\n  }, []);\n\n  useEffect(() => {\n    Axios.get(`http://localhost:3001/api/get/todolist`).then((response) => {\n      setTodoList(response.data)\n    });\n  }, []);\n\n\n  const addTodo = (id_user) => {\n    Axios.post(\"http://localhost:3001/api/insert/todolist\", {\n      isi: isi,\n      status: status,\n      id_user: id_user,\n    });\n\n    setTodoList([\n      ...todoList,\n      { isi: isi, status: status, id_user: id_user},\n    ]);\n  };\n\n  const addUser = () => {\n    Axios.post(\"http://localhost:3001/api/insert/user\", {\n      nama: nama,\n    });\n\n    setUserList([\n      ...userList,\n      {nama: nama},\n    ]);\n  };\n\n  const deleteTodo = (idTodo) => {\n    Axios.delete(`http://localhost:3001/api/delete/todolist/${idTodo}`);\n  };\n\n  const deleteUser = (id_user) => {\n    Axios.delete(`http://localhost:3001/api/delete/user/${id_user}`);\n  };\n\n  const updateTodo = (idTodo, status) => {\n    Axios.put(\"http://localhost:3001/api/update/todolist\", {\n      id: idTodo,\n      status: status,\n    });\n  };\n  \n  return (\n    <div className=\"App\">\n      <br></br>\n      <h1 id=\"center\"> TO DO LIST </h1> \n      <div className=\"card\" id=\"set\">\n        <ul class=\"list-group list-group-flush\">\n          <li class=\"list-group-item\">\n            <br></br>\n            <input className=\"form-control\" type=\"text\" name=\"nama\" placeholder=\"Tambah User...\" onChange={(e) => {\n              setNama(e.target.value)\n            }} />\n            <br></br>\n            <center>\n              <a href=\"/\"><button className=\"btn btn-primary\" onClick={addUser}>New User</button></a>\n            </center>\n          </li>\n        </ul>\n      </div>\n      \n      <div className=\"row\">\n        {userList.map((user) => {\n          return (\n            <div class=\"col-sm-4\">\n            <div className=\"card\">\n              <ul class=\"list-group list-group-flush\">\n                <li class=\"list-group-item\">\n                  <div class=\"row\">\n                    <div class=\"col-6 col-md-4\"></div>\n                    <div class=\"col-6 col-md-4\" id=\"capital\"><center><b>{user.nama}</b></center></div>\n                    <div class=\"col-6 col-md-4\">\n                      <div class=\"row\">\n                        <div class=\"col-sm\"></div>\n                        <div class=\"col-sm\"></div>\n                        <div class=\"col-sm\">\n                          <a href=\"/\">\n                            <button className=\"btn btn-primary\" onClick={() => {deleteUser(user.id_user)}}>x</button>\n                          </a>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </li>\n                <input type=\"hidden\" name=\"id_user\" id=\"id_user\" value={user.id_user} />\n                {todoList.filter(todo => todo.id_user === user.id_user).map((filterTodo) => {\n                return (\n                <li class=\"list-group-item\">\n                  <div class=\"row\">\n                    <div class=\"col-sm-2\">\n                      <a href=\"/\">\n                        <button className=\"btn btn-primary\" onClick={() => {deleteTodo(filterTodo.id)}}>x</button>\n                      </a>\n                    </div>\n                    <div class=\"col-sm-10\">\n                    {filterTodo.status === 'belum'\n                      ? <a href=\"/\" onClick={() => {updateTodo(filterTodo.id, 'sudah')}} id=\"href\">{filterTodo.isi}</a>\n                      : <a href=\"/\" onClick={() => {updateTodo(filterTodo.id, 'belum')}} id=\"href\"><s>{filterTodo.isi}</s></a>\n                    }\n                    </div>\n                  </div>\n                </li>\n                  );\n                })} \n                <li class=\"list-group-item\">\n                  <div class=\"row\">\n                    <div class=\"col-sm-8\">\n                      <input className=\"form-control\" type=\"text\" name=\"isi\" placeholder=\"Tambah To Do...\" onChange={(e) => {\n                        setIsi(e.target.value)\n                      }} />\n                    </div>\n                    <div class=\"col-sm-2\">\n                      <a href=\"/\">\n                        <button className=\"btn btn-primary\" onClick={() => {addTodo(user.id_user)}}>Tambah</button>\n                      </a>\n                    </div>\n                  </div>\n                </li>\n              </ul>\n            </div>\n          </div>\n          );\n        })}\n        </div>\n        <br></br>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}